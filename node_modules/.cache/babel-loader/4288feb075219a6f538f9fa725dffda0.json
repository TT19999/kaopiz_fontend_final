{"ast":null,"code":"import _classCallCheck from \"F:\\\\xampp\\\\htdocs\\\\kaopiz_fontend_final\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\xampp\\\\htdocs\\\\kaopiz_fontend_final\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\xampp\\\\htdocs\\\\kaopiz_fontend_final\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\xampp\\\\htdocs\\\\kaopiz_fontend_final\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\xampp\\\\htdocs\\\\kaopiz_fontend_final\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\xampp\\\\htdocs\\\\kaopiz_fontend_final\\\\src\\\\components\\\\SinglePost\\\\SinglePost.jsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport Banner from '../Banner';\nimport Image from 'react-bootstrap/Image';\nimport Comments from './comments/comments';\n\nvar SinglePost =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SinglePost, _React$Component);\n\n  function SinglePost(props) {\n    var _this;\n\n    _classCallCheck(this, SinglePost);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SinglePost).call(this, props));\n    _this.state = {\n      post: [],\n      user: [],\n      avatar: \"\",\n      statistic: [],\n      owner: [],\n      comments: []\n    };\n    return _this;\n  }\n\n  _createClass(SinglePost, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios({\n        method: 'GET',\n        url: '/api/post/show',\n        headers: {\n          Authorization: \"Bearer\" + localStorage.getItem(\"userToken\")\n        },\n        params: {\n          post_id: this.props.match.params.id\n        }\n      }).then(function (res) {\n        _this2.setState({\n          post: res.data.post,\n          statistic: res.data.post.statistic,\n          owner: res.data.owner,\n          comments: res.data.post.comments\n        });\n\n        console.log(_this2.state.comments);\n      }).catch(function (errors) {\n        console.log(errors.response); // errors.response ?  alert(errors.response.data.errors) \n        // window.location.replace('/')\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var category = this.state.post.categories ? this.state.post.categories.map(function (res) {\n        return React.createElement(\"a\", {\n          className: \"badge badge-pill badge-default\",\n          href: '/post/category/' + res.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, res.name);\n      }) : React.createElement(React.Fragment, null);\n      var comments = this.state.comments ? this.state.comments.map(function (res) {\n        console.log(res);\n        return React.createElement(Comments, {\n          data: res,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        });\n      }) : React.createElement(React.Fragment, null);\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Banner, {\n        backgroundImage: \"url(https://kaopiz-final.s3-ap-southeast-1.amazonaws.com/img/bg-gift.jpg)\",\n        title: \"Enjoy this blog\",\n        subtitle: \"Please, like and share for more people\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(\"main\", {\n        className: \"main-content\",\n        style: {\n          paddingTop: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 col-xl-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, this.state.post.title), React.createElement(\"div\", {\n        className: \"gap-multiline-items-1 mt-30\",\n        style: {\n          \"box-sizing\": \"border-box\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, category), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"B\\u1EDFi \", React.createElement(\"a\", {\n        href: \"/user/profile/\" + this.state.user.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \" \", this.state.post.author, \" \"), \"v\\xE0o ng\\xE0y \", React.createElement(\"date\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, new Date(Date.parse(this.state.post.created_at)).toLocaleDateString())), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"ql-snow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"ql-editor\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: this.state.post.content\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"col-12 col-xl-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        style: {\n          borderLeft: \"1px solid black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 col-xl-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"luot xem\"), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, this.state.statistic.views)), React.createElement(\"div\", {\n        className: \"col-12 col-xl-6\",\n        style: {\n          borderLeft: \"1px solid black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"luot binh luan\"), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, this.state.post.comments_count))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 col-xl-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Image, {\n        src: this.state.owner.avatar,\n        className: \"img-circle avatar\",\n        style: {\n          width: \"75px\",\n          height: \"75px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-12 col-xl-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, this.state.owner.first_name + \" \" + this.state.owner.last_name), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"tham gia t\\u1EEB : \", React.createElement(\"date\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, new Date(Date.parse(this.state.owner.created_at)).toLocaleDateString()))))))))))), React.createElement(\"div\", {\n        className: \"bt-1 bg-grey\",\n        style: {\n          paddingTop: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"float-left image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: localStorage.getItem(\"avatar\"),\n        className: \"img-circle avatar\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"comment\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, localStorage.getItem(\"userName\")), React.createElement(\"textarea\", {\n        name: \"comment\",\n        class: \"form-control\",\n        rows: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Send\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }), comments)))));\n    }\n  }]);\n\n  return SinglePost;\n}(React.Component);\n\n;\nexport default SinglePost;","map":{"version":3,"sources":["F:\\xampp\\htdocs\\kaopiz_fontend_final\\src\\components\\SinglePost\\SinglePost.jsx"],"names":["React","axios","Banner","Image","Comments","SinglePost","props","state","post","user","avatar","statistic","owner","comments","method","url","headers","Authorization","localStorage","getItem","params","post_id","match","id","then","res","setState","data","console","log","catch","errors","response","category","categories","map","name","paddingTop","title","author","Date","parse","created_at","toLocaleDateString","__html","content","borderLeft","views","comments_count","width","height","first_name","last_name","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios'\r\nimport Banner from '../Banner';\r\nimport Image from 'react-bootstrap/Image'\r\nimport Comments from './comments/comments';\r\n\r\nclass SinglePost extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            post:[],\r\n            user: [],\r\n            avatar: \"\",\r\n            statistic: [],\r\n            owner:[],\r\n            comments: [],\r\n        }\r\n    }\r\n\r\n     componentDidMount()  {\r\n        axios({\r\n              method:'GET',\r\n              url: '/api/post/show',\r\n              headers : {\r\n                  Authorization: \"Bearer\" + localStorage.getItem(\"userToken\")\r\n              },\r\n              params: {\r\n                post_id : this.props.match.params.id,\r\n              }\r\n        }).then(res => {\r\n          this.setState({\r\n            post: res.data.post,\r\n            statistic : res.data.post.statistic,\r\n            owner : res.data.owner,\r\n            comments: res.data.post.comments,\r\n          })\r\n            console.log(this.state.comments)\r\n        }).catch(errors => {\r\n          console.log(errors.response);\r\n          // errors.response ?  alert(errors.response.data.errors) \r\n          // window.location.replace('/')\r\n        })\r\n    }\r\n\r\n    render(){\r\n          const category = this.state.post.categories ? this.state.post.categories.map(res => {\r\n            return <a className=\"badge badge-pill badge-default\" href={'/post/category/'+res.name}>{res.name}</a>\r\n        }) : <></>\r\n\r\n          const comments = this.state.comments ? this.state.comments.map( res => {\r\n            console.log(res);\r\n            return <Comments data={res} />\r\n          }) : <></>\r\n        return (\r\n          <>\r\n        <div>\r\n  {/* Header */}\r\n  {/* <header className=\"header header-inverse w-fullscreen pb-80\" style={{backgroundImage: this.state.post.cover }} data-overlay={8}>\r\n    <div className=\"container text-center\">\r\n      <div className=\"row h-full\">\r\n        <div className=\"col-12 col-lg-8 offset-lg-2 align-self-center\">\r\n          <p className=\"opacity-70\">News</p>\r\n          <br />\r\n          <h1 className=\"display-4 hidden-sm-down\">{this.state.post.title}</h1>\r\n          <br />\r\n          <br />\r\n          <p>\r\n            <span className=\"opacity-70 mr-8\">By</span>\r\n            <a className=\"text-white\" href={\"/user/profile/\"+ this.state.user.id }>{this.state.post.author}</a>\r\n          </p>\r\n          <p>\r\n          <date>{new Date(Date.parse(this.state.post.created_at)).toLocaleDateString()}</date>\r\n          </p>\r\n        </div>\r\n        <div className=\"col-12 align-self-end text-center\">\r\n          <a className=\"scroll-down-1 scroll-down-inverse\" href=\"#\" data-scrollto=\"section-content\">\r\n            <span />\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </header> */}\r\n  <Banner \r\n    backgroundImage=\"url(https://kaopiz-final.s3-ap-southeast-1.amazonaws.com/img/bg-gift.jpg)\"\r\n    title=\"Enjoy this blog\"\r\n    subtitle=\"Please, like and share for more people\"\r\n\r\n  ></Banner>\r\n  {/* END Header */}\r\n  {/* Main container */}\r\n  <main className=\"main-content\" style={{paddingTop: '5px'}}>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12 col-xl-8\">\r\n            <h1>{this.state.post.title}</h1>\r\n            <div className=\"gap-multiline-items-1 mt-30\" style={{ \"box-sizing\" : \"border-box\"}}>\r\n              {category}\r\n            </div>\r\n            <hr/>\r\n            <p>\r\n              Bởi <a href={\"/user/profile/\"+ this.state.user.id }> {this.state.post.author} </a> \r\n              vào ngày <date>{new Date(Date.parse(this.state.post.created_at)).toLocaleDateString()}</date>\r\n            </p>\r\n            <hr/>\r\n            <div className=\"ql-snow\">\r\n              <div className=\"ql-editor\">\r\n                    <div dangerouslySetInnerHTML={{ __html : this.state.post.content} } />\r\n              </div>\r\n            </div>\r\n            \r\n            {/* <div className=\"gap-multiline-items-1 mt-30\">\r\n              {category}\r\n            </div> */}\r\n          </div>\r\n          <div className=\"col-12 col-xl-4\" >\r\n            \r\n            <div className=\"text-center\">\r\n              <div className=\"container\" style={{borderLeft: \"1px solid black\"}}>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12 col-xl-6\">\r\n                    <h5>luot xem</h5>\r\n                    <h5>{this.state.statistic.views}</h5>\r\n                  </div>\r\n                  <div className=\"col-12 col-xl-6\" style={{borderLeft: \"1px solid black\"}}>\r\n                    <h5>luot binh luan</h5>\r\n                    <h5>{this.state.post.comments_count}</h5>\r\n                  </div>\r\n                </div>\r\n                <hr></hr>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12 col-xl-4\">\r\n                    <Image src={this.state.owner.avatar} className=\"img-circle avatar\" style={{width: \"75px\" , height:\"75px\"}}></Image>\r\n                  </div>\r\n                  <div className=\"col-12 col-xl-8\">\r\n                    <h4>{this.state.owner.first_name +\" \"+ this.state.owner.last_name}</h4>\r\n                    <p>tham gia từ : <date>{new Date(Date.parse(this.state.owner.created_at)).toLocaleDateString()}</date></p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n          </div>\r\n        </div>\r\n\r\n    </div>\r\n    {/*\r\n|‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒\r\n| Comments\r\n|‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒\r\n!*/}\r\n    \r\n  </main>\r\n  {/* END Main container */}\r\n</div>\r\n  <div className=\"bt-1 bg-grey\" style={{paddingTop:\"10px\"}}>\r\n  <div className=\"container\">\r\n    <div className=\"row\">\r\n        <div className=\"col-8\">\r\n        <div className=\"float-left image\">\r\n                <img src={localStorage.getItem(\"avatar\")} className=\"img-circle avatar\" alt=\"\"/>\r\n            </div>\r\n            <p></p>\r\n          <form>\r\n            <div class=\"form-group\">\r\n              <label for=\"comment\">{localStorage.getItem(\"userName\")}</label>\r\n              <textarea name=\"comment\" class=\"form-control\" rows=\"3\"></textarea>\r\n            </div>\r\n            <button type=\"submit\" class=\"btn btn-primary\" >Send</button>\r\n          </form>\r\n          <p></p>\r\n          {comments}\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n    \r\n  </div>\r\n\r\n  </>\r\n  )\r\n}\r\n};\r\n\r\nexport default SinglePost;"]},"metadata":{},"sourceType":"module"}