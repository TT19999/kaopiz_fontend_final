{"ast":null,"code":"import _defineProperty from \"F:\\\\xampp\\\\htdocs\\\\kaopiz_fontend_final\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"F:\\\\xampp\\\\htdocs\\\\kaopiz_fontend_final\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\xampp\\\\htdocs\\\\kaopiz_fontend_final\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\xampp\\\\htdocs\\\\kaopiz_fontend_final\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\xampp\\\\htdocs\\\\kaopiz_fontend_final\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\xampp\\\\htdocs\\\\kaopiz_fontend_final\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"F:\\\\xampp\\\\htdocs\\\\kaopiz_fontend_final\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"F:\\\\xampp\\\\htdocs\\\\kaopiz_fontend_final\\\\src\\\\components\\\\Login\\\\index.jsx\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nvar Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n    _this.state = {\n      email: '',\n      password: '',\n      errors: {}\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"onChange\",\n    value: function onChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      var user = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      axios.post('/api/login', user, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (res) {\n        console.log(\"abc\");\n        console.log(res);\n        localStorage.setItem('userToken', res.data.token);\n        localStorage.setItem('userName', res.data.user.name);\n        localStorage.setItem('userId', res.data.user.id);\n        window.location.replace(\"/\");\n      }).catch(function (errors) {\n        console.log(errors.response);\n\n        if (errors.response.status == 403) {\n          window.location.replace('/verify/' + _this2.state.email);\n        }\n\n        alert(errors.response.data.errors);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"mh-fullscreen bg-img center-vh p-20\",\n        style: {\n          backgroundImage: \"url(\".concat(process.env.PUBLIC_URL, \"/assets/img/bg-girl.jpg)\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card card-shadowed p-50 w-400 mb-0\",\n        style: {\n          maxWidth: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"text-uppercase text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"email\",\n        onChange: this.onChange,\n        name: \"email\",\n        className: \"form-control\",\n        placeholder: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        onChange: this.onChange,\n        name: \"password\",\n        className: \"form-control\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group flexbox py-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"custom-control custom-checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        className: \"text-muted hover-primary fs-13\",\n        href: \"/forgotPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Forgot password?\")), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-bold btn-block btn-primary\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Login\"))), React.createElement(\"hr\", {\n        className: \"w-30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"text-center text-muted fs-13 mt-20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Don't have an account? \", React.createElement(Link, {\n        to: \"/signup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Sign up\"))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default Login;","map":{"version":3,"sources":["F:\\xampp\\htdocs\\kaopiz_fontend_final\\src\\components\\Login\\index.jsx"],"names":["React","Link","axios","Login","state","email","password","errors","onChange","bind","onSubmit","event","setState","target","name","value","preventDefault","user","post","headers","then","res","console","log","localStorage","setItem","data","token","id","window","location","replace","catch","response","status","alert","backgroundImage","process","env","PUBLIC_URL","maxWidth","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios'\r\n\r\nclass Login extends React.Component {\r\n\r\n  constructor(){\r\n        super()\r\n        this.state={\r\n            email: '',\r\n            password:'',\r\n            errors: {}\r\n        }\r\n        this.onChange = this.onChange.bind(this)\r\n        this.onSubmit =this.onSubmit.bind(this)\r\n    }\r\n    onChange(event){\r\n        this.setState({\r\n            [event.target.name]: event.target.value,\r\n        })\r\n    }\r\n\r\n    onSubmit(event){\r\n        event.preventDefault()\r\n        const user={\r\n            email : this.state.email,\r\n            password: this.state.password\r\n        }\r\n        axios.post('/api/login', user , {\r\n            headers: {'Content-Type' : 'application/json'}\r\n        }).then(res => {\r\n          console.log(\"abc\")\r\n            console.log(res)\r\n            localStorage.setItem('userToken',res.data.token)\r\n            localStorage.setItem('userName',res.data.user.name)\r\n            localStorage.setItem('userId',res.data.user.id)\r\n            window.location.replace(\"/\")\r\n            \r\n        }).catch(errors => {\r\n          console.log(errors.response);\r\n          if(errors.response.status == 403){\r\n            window.location.replace('/verify/'+this.state.email)\r\n          }\r\n          alert(errors.response.data.errors)\r\n        })\r\n        \r\n    }\r\n\r\n  render(){\r\n    return(\r\n      <div className=\"mh-fullscreen bg-img center-vh p-20\" style={{backgroundImage: `url(${process.env.PUBLIC_URL}/assets/img/bg-girl.jpg)`}}> \r\n    <div className=\"card card-shadowed p-50 w-400 mb-0\" style={{maxWidth: '100%'}}>\r\n    <h5 className=\"text-uppercase text-center\">Login</h5>\r\n    <br /><br />\r\n    <form onSubmit={this.onSubmit}>\r\n      <div className=\"form-group\">\r\n        <input type=\"email\" onChange={this.onChange} name=\"email\" className=\"form-control\" placeholder=\"Email\" />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input type=\"password\" onChange={this.onChange} name=\"password\" className=\"form-control\" placeholder=\"Password\" />\r\n      </div>\r\n      <div className=\"form-group flexbox py-10\">\r\n        <label className=\"custom-control custom-checkbox\">\r\n        </label>\r\n        <a className=\"text-muted hover-primary fs-13\" href=\"/forgotPassword\">Forgot password?</a>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <button className=\"btn btn-bold btn-block btn-primary\" type=\"submit\" >Login</button>\r\n      </div>\r\n    </form>\r\n    <hr className=\"w-30\" />\r\n    <p className=\"text-center text-muted fs-13 mt-20\">Don't have an account? <Link to=\"/signup\">Sign up</Link></p>\r\n  </div>\r\n</div>\r\n    )\r\n  }\r\n}\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}